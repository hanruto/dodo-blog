{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport axios from 'axios';\naxios.defaults.baseURL = 'https://www.dodoblog.cn/api';\naxios.defaults.withCredentials = true;\naxios.interceptors.response.use(response => {\n  // 特殊repsonse，包括值类型的response和已经经过axois处理的response\n  if (typeof response === 'string' || typeof response === 'number' || typeof response === 'boolean' || response['hasAxiosPassport'] === true) {\n    return _Promise.resolve(response);\n  } // repsonse 处理，只剩data返回给前段\n\n\n  if (!response) {\n    return _Promise.reject('no response');\n  }\n\n  if (response.status !== 200) {\n    console.error('------ server error -------');\n    return _Promise.reject(response);\n  }\n\n  const result = response.data;\n\n  if (!result.success) {\n    console.error('------ operation error -------');\n    return _Promise.reject(result);\n  }\n\n  if (result.data && result.data instanceof Object) {\n    result.data['hasAxiosPassport'] = true;\n  }\n\n  return _Promise.resolve(result.data);\n});\naxios.interceptors.request.use(config => {\n  if (false) {\n    const jwt = localStorage.getItem('user-jwt');\n    if (jwt) config.headers['Authorization'] = jwt;\n  }\n\n  return config;\n}, error => {\n  return _Promise.reject(error);\n});\nexport default axios;","map":null,"metadata":{},"sourceType":"module"}