{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nvar defaultSpeed = 600;\nvar defaultInterval = 200;\nexport var Animate =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Animate, _React$Component);\n\n  function Animate() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Animate);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Animate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      animate: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"timer\", 0);\n\n    return _this;\n  }\n\n  _createClass(Animate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.animate) {\n        this.timer = setTimeout(function () {\n          return _this2.setState({\n            animate: true\n          });\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      if (prevProps.animate !== this.props.animate) {\n        this.timer = window.setTimeout(function () {\n          return _this3.setState({\n            animate: _this3.props.animate\n          });\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.timer);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          _this$props$speed = _this$props.speed,\n          speed = _this$props$speed === void 0 ? defaultSpeed : _this$props$speed,\n          from = _this$props.from,\n          to = _this$props.to;\n      var animate = this.state.animate;\n      var additionAnimate = (animate ? to : from) || {};\n      return React.Children.map(children, function (item) {\n        return React.cloneElement(item, {\n          style: _objectSpread({}, {\n            transform: \"translateY(\".concat(animate ? 0 : 40, \"px)\"),\n            transition: \"all ease-in-out \".concat(speed / 1000, \"s\"),\n            opacity: animate ? 1 : 0\n          }, {}, additionAnimate)\n        });\n      });\n    }\n  }]);\n\n  return Animate;\n}(React.Component);\n\nvar AnimateQueue =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(AnimateQueue, _React$Component2);\n\n  function AnimateQueue() {\n    var _getPrototypeOf3;\n\n    var _this4;\n\n    _classCallCheck(this, AnimateQueue);\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this4 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(AnimateQueue)).call.apply(_getPrototypeOf3, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this4), \"timer\", null);\n\n    _defineProperty(_assertThisInitialized(_this4), \"state\", {\n      current: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this4), \"handleAnimate\", function (animate) {\n      var _this4$props = _this4.props,\n          _this4$props$interval = _this4$props.interval,\n          interval = _this4$props$interval === void 0 ? defaultInterval : _this4$props$interval,\n          children = _this4$props.children,\n          exit = _this4$props.exit,\n          onAnimateStart = _this4$props.onAnimateStart;\n      if (!children || !children.length) return false;\n      clearTimeout(_this4.timer);\n\n      if (exit) {\n        return _this4.setState({\n          current: 0\n        });\n      }\n\n      var loop = function loop() {\n        var current = _this4.state.current;\n        var max = children ? children.length : 0;\n\n        if (!animate && current <= 0) {\n          _this4.setState({\n            current: 0\n          });\n\n          _this4.props.onAnimateEnd && _this4.props.onAnimateEnd();\n          return false;\n        }\n\n        if (animate && current >= max) {\n          _this4.setState({\n            current: max\n          });\n\n          _this4.props.onAnimateEnd && _this4.props.onAnimateEnd();\n          return false;\n        }\n\n        current = current + (animate ? 1 : -1);\n\n        _this4.setState({\n          current: current\n        });\n\n        _this4.timer = setTimeout(loop, interval);\n      };\n\n      onAnimateStart && onAnimateStart();\n      _this4.timer = setTimeout(loop, interval);\n    });\n\n    return _this4;\n  }\n\n  _createClass(AnimateQueue, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleAnimate(this.props.animate);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!this.props.children || !prevProps.children) {\n        return null;\n      }\n\n      if (prevProps.exit !== this.props.exit) {\n        return this.handleAnimate(this.props.animate);\n      }\n\n      if (prevProps.animate !== this.props.animate) {\n        return this.handleAnimate(this.props.animate);\n      }\n\n      if (prevProps.children.length !== this.props.children.length) {\n        return this.handleAnimate(this.props.animate);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.timer);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          _this$props2$speed = _this$props2.speed,\n          speed = _this$props2$speed === void 0 ? 400 : _this$props2$speed,\n          animate = _this$props2.animate,\n          rest = _objectWithoutProperties(_this$props2, [\"children\", \"speed\", \"animate\"]);\n\n      var current = this.state.current;\n      if (!children) return null;\n      return React.Children.map(children, function (item, index) {\n        return __jsx(Animate, _extends({\n          animate: index < current,\n          speed: speed\n        }, rest), item);\n      });\n    }\n  }]);\n\n  return AnimateQueue;\n}(React.Component);\n\nexport { AnimateQueue as default };\nexport var AnimateQueueGroup =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(AnimateQueueGroup, _React$Component3);\n\n  function AnimateQueueGroup() {\n    var _getPrototypeOf4;\n\n    var _this5;\n\n    _classCallCheck(this, AnimateQueueGroup);\n\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    _this5 = _possibleConstructorReturn(this, (_getPrototypeOf4 = _getPrototypeOf(AnimateQueueGroup)).call.apply(_getPrototypeOf4, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this5), \"state\", {\n      current: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this5), \"animate\", _this5.props.animate);\n\n    _defineProperty(_assertThisInitialized(_this5), \"handleNextAnimate\", function () {\n      var current = _this5.state.current;\n      var children = _this5.props.children;\n      var max = children ? children.length : 0;\n\n      if (_this5.animate && current >= max) {\n        current = max;\n      } else if (!_this5.animate && current <= 0) {\n        current = 0;\n      } else {\n        _this5.animate ? current = current + 1 : current = current - 1;\n      }\n\n      _this5.setState({\n        current: current\n      });\n    });\n\n    return _this5;\n  }\n\n  _createClass(AnimateQueueGroup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleNextAnimate();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.animate !== this.props.animate) {\n        this.animate = nextProps.animate;\n        this.handleNextAnimate();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var _this$props3 = this.props,\n          children = _this$props3.children,\n          _this$props3$speed = _this$props3.speed,\n          speed = _this$props3$speed === void 0 ? 400 : _this$props3$speed,\n          animate = _this$props3.animate,\n          rest = _objectWithoutProperties(_this$props3, [\"children\", \"speed\", \"animate\"]);\n\n      var current = this.state.current;\n      return React.Children.map(children, function (item, index) {\n        return __jsx(\"div\", {\n          className: \"ze-animate-group-wrapper\"\n        }, React.cloneElement(item, _objectSpread({\n          animate: index < current\n        }, rest, {\n          onAnimateEnd: _this6.handleNextAnimate\n        })));\n      });\n    }\n  }]);\n\n  return AnimateQueueGroup;\n}(React.Component);","map":null,"metadata":{},"sourceType":"module"}