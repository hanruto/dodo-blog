(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Dkwd:function(t,e,n){"use strict";n.r(e);var a=n("hfKm"),i=n.n(a),r=n("2Eek"),o=n.n(r),c=n("XoMD"),l=n.n(c),u=n("Jo+v"),s=n.n(u),p=n("4mXO"),d=n.n(p),m=n("pLtp"),f=n.n(m),h=n("vYYK"),b=n("ln6h"),v=n.n(b),O=n("q1tI"),g=n.n(O),j=n("YFqc"),w=n.n(j),y=n("8Kt/"),T=n.n(y),E=n("Wgwc"),k=n.n(E),M=n("/MKj"),D=n("6n+W"),A=n("hwOW"),L=n("0iUn"),S=n("sLSF"),Y=n("MI3g"),x=n("a7VT"),N=n("AT/M"),U=n("Tit0"),W=g.a.createElement,X=function(t){function e(){var t,n;Object(L.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(Y.a)(this,(t=Object(x.a)(e)).call.apply(t,[this].concat(i))),Object(h.a)(Object(N.a)(n),"el",g.a.createRef()),Object(h.a)(Object(N.a)(n),"taskTimer",0),Object(h.a)(Object(N.a)(n),"protectTimer",0),Object(h.a)(Object(N.a)(n),"loading",!1),Object(h.a)(Object(N.a)(n),"protecting",!1),Object(h.a)(Object(N.a)(n),"handleDetect",(function(){if(n.loading||n.protecting)return!1;var t=n.props,e=t.protectTime,a=void 0===e?0:e,i=t.loadingTime,r=void 0===i?0:i,o=t.onScrollOut;(n.el.current&&n.el.current.getBoundingClientRect()).bottom<window.innerHeight+100&&(n.loading=!0,n.protecting=!0,n.taskTimer=window.setTimeout((function(){n.loading=!1,o(),n.handleDetect()}),r),n.protectTimer=window.setTimeout((function(){n.protecting=!1,n.handleDetect()}),a))})),n}return Object(U.a)(e,t),Object(S.a)(e,[{key:"componentDidMount",value:function(){this.handleDetect(),window.addEventListener("scroll",this.handleDetect)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleDetect),clearTimeout(this.taskTimer)}},{key:"componentDidUpdate",value:function(t){t.detect!==this.props.detect&&(this.props.detect?window.addEventListener("scroll",this.handleDetect):window.removeEventListener("scroll",this.handleDetect))}},{key:"render",value:function(){return W("div",{className:"ze-scroll-detect",ref:this.el},this.props.children)}}]),e}(g.a.Component),C=n("d04V"),I=n.n(C),_=g.a.createElement;function B(t){var e=Object(O.useState)(0),n=e[0],a=e[1],i=t.text,r=void 0===i?"\u52a0\u8f7d\u4e2d":i,o=I()({length:n}).map((function(){return"."})).join("");return Object(O.useEffect)((function(){var t=0,e=setInterval((function(){a(t=t+1<=3?t+1:1)}),200);return function(){return clearInterval(e)}}),[]),_(g.a.Fragment,null,"".concat(r).concat(o))}var K=n("WYo3"),P=n("rEMe"),R=(n("ajvM"),g.a.createElement);function V(t,e){var n=f()(t);if(d.a){var a=d()(t);e&&(a=a.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,a)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){Object(h.a)(t,e,n[e])})):l.a?o()(t,l()(n)):V(Object(n)).forEach((function(e){i()(t,e,s()(n,e))}))}return t}var F=15,J=function(t){var e=[],n="";return t.forEach((function(t){var a=k()(t.created).format("YYYY / MM");a!==n&&(n=a,e.push({title:a,type:"date",id:a})),e.push({title:t.title,type:"blog",id:t._id})})),e},z=function(t){var e=t.info,n=t.style;return"date"===e.type?R("div",{className:"blog-date",style:n},e.title):R("div",{className:"blog-item",style:n},R(w.a,{href:"/blog?id=".concat(e.id)},R("a",{className:"page-common-blog-title"},e.title)))};function Z(t){var e=t.initBlogList,n=t.blogList,a=t.renderedBlogListNumber,i=t.setRenderedBlogListNumber,r=t.lastViewPageY,o=t.setLastViewPageY,c=Object(O.useState)(a||F),l=c[0],u=c[1],s=Object(O.useState)(!1),p=s[0],d=s[1],m=Object(O.useRef)(l),f=Object(O.useRef)(!1);f.current||(window.scrollTo(0,r),f.current=!0),Object(O.useEffect)((function(){return Object(P.a)("enter-index","route-change"),function(){i(m.current),o(window.pageYOffset)}}),[]);var h=J((e||n).list),b=h.length&&l>=h.length;return R("div",{className:"blog-list-page page-common-container"},R(T.a,null,R("title",null,"\u5c0f\u5bd2\u7684\u535a\u5ba2-\u535a\u5ba2\u5217\u8868")),R(D.a,null),R(X,{onScrollOut:function(){if(!b){var t=l+F;m.current=t,u(t),d(!0)}},protectTime:2e3},h.slice(0,a).map((function(t){return R(z,{key:t.id,info:t})})),R(A.a,{animate:!0,interval:100,from:{transform:"translateX(100px)",opacity:0},to:{transform:"translateX(0px)",opacity:1},onAnimateEnd:function(){d(!1)}},h.slice(a,l).map((function(t){return R(z,{key:t.id,info:t})}))),R("div",{className:"blog-list-info"},b?"\u5df2\u5168\u90e8\u52a0\u8f7d":p&&R(B,{text:"\u6ed1\u6162\u70b9\uff0c\u8fd8\u6ca1\u52a0\u8f7d\u5b8c\u5462"}))))}Z.getInitialProps=function(){var t,e;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=K.a.dispatch.blogModel.getBlogList,n.next=3,v.a.awrap(t());case 3:return e=n.sent,n.abrupt("return",{initBlogList:e});case 5:case"end":return n.stop()}}))};e.default=Object(M.b)((function(t){return q({},t.blogModel,{},t.globalModel)}),(function(t){return q({},t.blogModel,{},t.globalModel)}))(Z)},Zgz0:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("Dkwd")}])},hwOW:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n("hfKm"),i=n.n(a),r=n("2Eek"),o=n.n(r),c=n("XoMD"),l=n.n(c),u=n("Jo+v"),s=n.n(u),p=n("4mXO"),d=n.n(p),m=n("pLtp"),f=n.n(m),h=n("kOwS"),b=n("qNsG"),v=n("0iUn"),O=n("sLSF"),g=n("MI3g"),j=n("a7VT"),w=n("AT/M"),y=n("Tit0"),T=n("vYYK"),E=n("q1tI"),k=E.createElement;function M(t,e){var n=f()(t);if(d.a){var a=d()(t);e&&(a=a.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,a)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){Object(T.a)(t,e,n[e])})):l.a?o()(t,l()(n)):M(Object(n)).forEach((function(e){i()(t,e,s()(n,e))}))}return t}var A=200,L=function(t){function e(){var t,n;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(g.a)(this,(t=Object(j.a)(e)).call.apply(t,[this].concat(i))),Object(T.a)(Object(w.a)(n),"state",{animate:!1}),Object(T.a)(Object(w.a)(n),"timer",0),n}return Object(y.a)(e,t),Object(O.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.animate&&(this.timer=setTimeout((function(){return t.setState({animate:!0})})))}},{key:"componentDidUpdate",value:function(t){var e=this;t.animate!==this.props.animate&&(this.timer=window.setTimeout((function(){return e.setState({animate:e.props.animate})})))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.speed,a=void 0===n?600:n,i=t.from,r=t.to,o=this.state.animate,c=(o?r:i)||{};return E.Children.map(e,(function(t){return E.cloneElement(t,{style:D({},{transform:"translateY(".concat(o?0:40,"px)"),transition:"all ease-in-out ".concat(a/1e3,"s"),opacity:o?1:0},{},c)})}))}}]),e}(E.Component),S=function(t){function e(){var t,n;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(g.a)(this,(t=Object(j.a)(e)).call.apply(t,[this].concat(i))),Object(T.a)(Object(w.a)(n),"timer",null),Object(T.a)(Object(w.a)(n),"state",{current:0}),Object(T.a)(Object(w.a)(n),"handleAnimate",(function(t){var e=n.props,a=e.interval,i=void 0===a?A:a,r=e.children,o=e.exit,c=e.onAnimateStart;if(!r||!r.length)return!1;if(clearTimeout(n.timer),o)return n.setState({current:0});c&&c(),n.timer=setTimeout((function e(){var a=n.state.current,o=r?r.length:0;return!t&&a<=0?(n.setState({current:0}),n.props.onAnimateEnd&&n.props.onAnimateEnd(),!1):t&&a>=o?(n.setState({current:o}),n.props.onAnimateEnd&&n.props.onAnimateEnd(),!1):(a+=t?1:-1,n.setState({current:a}),void(n.timer=setTimeout(e,i)))}),i)})),n}return Object(y.a)(e,t),Object(O.a)(e,[{key:"componentDidMount",value:function(){this.handleAnimate(this.props.animate)}},{key:"componentDidUpdate",value:function(t){return this.props.children&&t.children?t.exit!==this.props.exit?this.handleAnimate(this.props.animate):t.animate!==this.props.animate?this.handleAnimate(this.props.animate):t.children.length!==this.props.children.length?this.handleAnimate(this.props.animate):void 0:null}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.speed,a=void 0===n?400:n,i=(t.animate,Object(b.a)(t,["children","speed","animate"])),r=this.state.current;return e?E.Children.map(e,(function(t,e){return k(L,Object(h.a)({animate:e<r,speed:a},i),t)})):null}}]),e}(E.Component);E.Component}},[["Zgz0",1,0,2]]]);