(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0TmZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),o=n("YFqc"),r=n.n(o),c=(n("v4hW"),i.a.createElement);function l(){return c("footer",{className:"main-footer"},c("div",null,c("div",{className:"main-footer-links"},c("span",null,"github "),c("a",{target:"_new",href:"https://github.com/hanruto"},"soWhiteSoColl")),c("div",null,c("span",{className:"main-footer-item"},"\xa92018 dodo "),c("span",{className:"main-footer-item"},c(r.a,{href:"/blog?id=5c2c8bf7e71e1855ab4d18f0"},c("a",null,"\u5173\u4e8e\u5c0f\u5bd2"))))))}},HfOp:function(t,e,n){"use strict";n.r(e);var a=n("hfKm"),i=n.n(a),o=n("2Eek"),r=n.n(o),c=n("XoMD"),l=n.n(c),s=n("Jo+v"),u=n.n(s),m=n("4mXO"),p=n.n(m),d=n("pLtp"),f=n.n(d),h=n("vYYK"),v=n("ln6h"),b=n.n(v),g=n("q1tI"),O=n.n(g),j=n("/MKj"),w=n("Wgwc"),y=n.n(w),N=n("8Kt/"),k=n.n(N),E=n("6n+W"),M=n("hwOW"),T=n("l6d1"),Y=n("0TmZ"),_=n("rEMe"),A=n("WYo3"),S=(n("vRfo"),O.a.createElement);function x(t,e){var n=f()(t);if(p.a){var a=p()(t);e&&(a=a.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,a)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){Object(h.a)(t,e,n[e])})):l.a?r()(t,l()(n)):x(Object(n)).forEach((function(e){i()(t,e,u()(n,e))}))}return t}function D(t){var e=Object(g.useState)(""),n=e[0],a=e[1],i=Object(g.useState)(""),o=i[0],r=i[1],c=t.getComments,l=t.commentBlog,s=t.blog,u=t.comments,m=t.addViewCount;Object(g.useEffect)((function(){s&&s._id&&(c({blogId:s._id}),m(s._id),Object(_.a)("enter-blog-detail","route-change",{id:s._id}))}),[]);return S("div",{className:"blog-detail-page page-common-container"},S(k.a,null,S("title",null,"".concat(s?s.title:"\u535a\u5ba2\u627e\u4e0d\u5230\u4e86","-\u5c0f\u5bd2\u7684\u535a\u5ba2"))),S(E.a,null),s?S(M.a,{animate:!0},S("h2",{className:"page-common-blog-title"},s.title),S("div",{className:"blog-created"},y()(s.created).format("YYYY / MM / DD")),S("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:s.content}})):S("div",null,"\u535a\u5ba2\u627e\u4e0d\u5230\u4e86"),S("div",{className:"page-common-section-title"},"\u5199\u8bc4\u8bba"),S("div",{className:"blog-comment-form"},S("input",{maxLength:6,type:"text",className:"blog-nickname-input",placeholder:"\u540d\u5b57\u6216\u8005\u6635\u79f0",onChange:function(t){r(t.target.value)}}),S("textarea",{maxLength:150,value:n,onChange:function(t){a(t.target.value)},className:"blog-comment-input",placeholder:"\u5199\u70b9\u4ec0\u4e48\u5427..."}),S("button",{className:"blog-comment-submit-button",onClick:function(t){var e;return b.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:t.preventDefault(),e={content:n,type:1,nickname:o||"\u4e0d\u613f\u610f\u900f\u6f0f\u59d3\u540d\u7684\u70ed\u5fc3\u7f51\u53cb",blogId:s._id},a(""),l(e);case 4:case"end":return i.stop()}}))},disabled:!n||!o},"\u8bc4\u8bba")),S("div",{className:"page-common-section-title comment-list-title"},"\u5168\u90e8\u8bc4\u8bba"),S(T.a,{comments:u.list}),S(Y.a,null))}D.getInitialProps=function(t){var e,n,a;return b.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.query.id,n=A.a.dispatch.blogModel.getBlog,i.next=4,b.a.awrap(n(e));case 4:return a=i.sent,i.abrupt("return",{blog:a});case 6:case"end":return i.stop()}}))};e.default=Object(j.b)((function(t){return C({},t.blogModel)}),(function(t){return C({},t.blogModel)}))(D)},hwOW:function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var a=n("hfKm"),i=n.n(a),o=n("2Eek"),r=n.n(o),c=n("XoMD"),l=n.n(c),s=n("Jo+v"),u=n.n(s),m=n("4mXO"),p=n.n(m),d=n("pLtp"),f=n.n(d),h=n("kOwS"),v=n("qNsG"),b=n("0iUn"),g=n("sLSF"),O=n("MI3g"),j=n("a7VT"),w=n("AT/M"),y=n("Tit0"),N=n("vYYK"),k=n("q1tI"),E=k.createElement;function M(t,e){var n=f()(t);if(p.a){var a=p()(t);e&&(a=a.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,a)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){Object(N.a)(t,e,n[e])})):l.a?r()(t,l()(n)):M(Object(n)).forEach((function(e){i()(t,e,u()(n,e))}))}return t}var Y=200,_=function(t){function e(){var t,n;Object(b.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Object(O.a)(this,(t=Object(j.a)(e)).call.apply(t,[this].concat(i))),Object(N.a)(Object(w.a)(n),"state",{animate:!1}),Object(N.a)(Object(w.a)(n),"timer",0),n}return Object(y.a)(e,t),Object(g.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.animate&&(this.timer=setTimeout((function(){return t.setState({animate:!0})})))}},{key:"componentDidUpdate",value:function(t){var e=this;t.animate!==this.props.animate&&(this.timer=window.setTimeout((function(){return e.setState({animate:e.props.animate})})))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.speed,a=void 0===n?600:n,i=t.from,o=t.to,r=this.state.animate,c=(r?o:i)||{};return k.Children.map(e,(function(t){return k.cloneElement(t,{style:T({},{transform:"translateY(".concat(r?0:40,"px)"),transition:"all ease-in-out ".concat(a/1e3,"s"),opacity:r?1:0},{},c)})}))}}]),e}(k.Component),A=function(t){function e(){var t,n;Object(b.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Object(O.a)(this,(t=Object(j.a)(e)).call.apply(t,[this].concat(i))),Object(N.a)(Object(w.a)(n),"timer",null),Object(N.a)(Object(w.a)(n),"state",{current:0}),Object(N.a)(Object(w.a)(n),"handleAnimate",(function(t){var e=n.props,a=e.interval,i=void 0===a?Y:a,o=e.children,r=e.exit,c=e.onAnimateStart;if(!o||!o.length)return!1;if(clearTimeout(n.timer),r)return n.setState({current:0});c&&c(),n.timer=setTimeout((function e(){var a=n.state.current,r=o?o.length:0;return!t&&a<=0?(n.setState({current:0}),n.props.onAnimateEnd&&n.props.onAnimateEnd(),!1):t&&a>=r?(n.setState({current:r}),n.props.onAnimateEnd&&n.props.onAnimateEnd(),!1):(a+=t?1:-1,n.setState({current:a}),void(n.timer=setTimeout(e,i)))}),i)})),n}return Object(y.a)(e,t),Object(g.a)(e,[{key:"componentDidMount",value:function(){this.handleAnimate(this.props.animate)}},{key:"componentDidUpdate",value:function(t){return this.props.children&&t.children?t.exit!==this.props.exit?this.handleAnimate(this.props.animate):t.animate!==this.props.animate?this.handleAnimate(this.props.animate):t.children.length!==this.props.children.length?this.handleAnimate(this.props.animate):void 0:null}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.speed,a=void 0===n?400:n,i=(t.animate,Object(v.a)(t,["children","speed","animate"])),o=this.state.current;return e?k.Children.map(e,(function(t,e){return E(_,Object(h.a)({animate:e<o,speed:a},i),t)})):null}}]),e}(k.Component);k.Component},l6d1:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),o=n("Wgwc"),r=n.n(o),c=(n("lOme"),i.a.createElement);function l(t){var e=t.comments;return e&&e.length?c("ul",{className:"comment-list"},e.map((function(t){return c("li",{key:t._id,className:"comment-item"},c("div",{className:"comment-nickname"},t.nickname),c("div",{className:"comment-created"},r()(t.created).format("YYYY.MM.DD HH:mm")),c("div",{className:"comment-content"},t.content))}))):c("div",{className:"no-comment"},"\u6682\u65e0\u8bc4\u8bba")}},uh6c:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return n("HfOp")}])}},[["uh6c",1,0,2]]]);