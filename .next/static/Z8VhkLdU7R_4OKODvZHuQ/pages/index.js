(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Dkwd:function(t,e,n){"use strict";n.r(e);var a=n("r6tY"),r=n.n(a),i=n("u20+"),o=n.n(i),c=n("ZxvJ"),l=n.n(c),u=n("Ah5Y"),s=n.n(u),p=n("w2yW"),d=n.n(p),m=n("AkfJ"),f=n.n(m),h=n("CvBr"),b=n("4x1K"),v=n.n(b),j=n("2w0b"),O=n.n(j),g=n("joYR"),w=n.n(g),y=n("1s8z"),E=n.n(y),k=n("WN8c"),T=n.n(k),D=n("Hcux"),A=n("6n+W"),x=n("hwOW"),Y=n("CD3g"),L=n("psj1"),M=n("gtKq"),S=n("9xLo"),C=n("tnEP"),N=n("yl5b"),W=O.a.createElement,P=function(t){function e(){var t,n;Object(Y.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(M.a)(this,(t=Object(S.a)(e)).call.apply(t,[this].concat(r))),Object(h.a)(Object(C.a)(n),"el",O.a.createRef()),Object(h.a)(Object(C.a)(n),"taskTimer",0),Object(h.a)(Object(C.a)(n),"protectTimer",0),Object(h.a)(Object(C.a)(n),"loading",!1),Object(h.a)(Object(C.a)(n),"protecting",!1),Object(h.a)(Object(C.a)(n),"handleDetect",(function(){if(n.loading||n.protecting)return!1;var t=n.props,e=t.protectTime,a=void 0===e?0:e,r=t.loadingTime,i=void 0===r?0:r,o=t.onScrollOut;(n.el.current&&n.el.current.getBoundingClientRect()).bottom<window.innerHeight+100&&(n.loading=!0,n.protecting=!0,n.taskTimer=window.setTimeout((function(){n.loading=!1,o(),n.handleDetect()}),i),n.protectTimer=window.setTimeout((function(){n.protecting=!1,n.handleDetect()}),a))})),n}return Object(N.a)(e,t),Object(L.a)(e,[{key:"componentDidMount",value:function(){this.handleDetect(),window.addEventListener("scroll",this.handleDetect)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleDetect),clearTimeout(this.taskTimer)}},{key:"componentDidUpdate",value:function(t){t.detect!==this.props.detect&&(this.props.detect?window.addEventListener("scroll",this.handleDetect):window.removeEventListener("scroll",this.handleDetect))}},{key:"render",value:function(){return W("div",{className:"ze-scroll-detect",ref:this.el},this.props.children)}}]),e}(O.a.Component),B=n("wlV8"),_=n.n(B),J=O.a.createElement;function R(t){var e=Object(j.useState)(0),n=e[0],a=e[1],r=t.text,i=void 0===r?"\u52a0\u8f7d\u4e2d":r,o=_()({length:n}).map((function(){return"."})).join("");return Object(j.useEffect)((function(){var t=0,e=setInterval((function(){a(t=t+1<=3?t+1:1)}),200);return function(){return clearInterval(e)}}),[]),J(O.a.Fragment,null,"".concat(i).concat(o))}var U=n("WYo3"),q=n("rEMe"),K=(n("ajvM"),O.a.createElement);function X(t,e){var n=f()(t);if(d.a){var a=d()(t);e&&(a=a.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){Object(h.a)(t,e,n[e])})):l.a?o()(t,l()(n)):X(Object(n)).forEach((function(e){r()(t,e,s()(n,e))}))}return t}var V=15,z=function(t){var e=[],n="";return t.forEach((function(t){var a=T()(t.created).format("YYYY / MM");a!==n&&(n=a,e.push({title:a,type:"date",id:a})),e.push({title:t.title,type:"blog",id:t._id})})),e},F=function(t){var e=t.info,n=t.style;return"date"===e.type?K("div",{className:"blog-date",style:n},e.title):K("div",{className:"blog-item",style:n},K(w.a,{href:"/blog?id=".concat(e.id)},K("a",{className:"page-common-blog-title"},e.title)))};function H(t){var e=t.initBlogList,n=t.blogList,a=t.renderedBlogListNumber,r=t.setRenderedBlogListNumber,i=t.lastViewPageY,o=t.setLastViewPageY,c=Object(j.useState)(a||V),l=c[0],u=c[1],s=Object(j.useState)(!1),p=s[0],d=s[1],m=Object(j.useRef)(l),f=Object(j.useRef)(!1);f.current||(window.scrollTo(0,i),f.current=!0),Object(j.useEffect)((function(){return Object(q.a)("enter-index","route-change"),function(){r(m.current),o(window.pageYOffset)}}),[]);var h=z((e||n).list),b=h.length&&l>=h.length;return K("div",{className:"blog-list-page page-common-container"},K(E.a,null,K("title",null,"\u5c0f\u5bd2\u7684\u535a\u5ba2-\u535a\u5ba2\u5217\u8868")),K(A.a,null),K(P,{onScrollOut:function(){if(!b){var t=l+V;m.current=t,u(t),d(!0)}},protectTime:2e3},h.slice(0,a).map((function(t){return K(F,{key:t.id,info:t})})),K(x.a,{animate:!0,interval:100,from:{transform:"translateX(100px)",opacity:0},to:{transform:"translateX(0px)",opacity:1},onAnimateEnd:function(){d(!1)}},h.slice(a,l).map((function(t){return K(F,{key:t.id,info:t})}))),K("div",{className:"blog-list-info"},b?"\u5df2\u5168\u90e8\u52a0\u8f7d":p&&K(R,{text:"\u6ed1\u6162\u70b9\uff0c\u8fd8\u6ca1\u52a0\u8f7d\u5b8c\u5462"}))))}H.getInitialProps=function(){var t,e;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=U.a.dispatch.blogModel.getBlogList,n.next=3,v.a.awrap(t());case 3:return e=n.sent,n.abrupt("return",{initBlogList:e});case 5:case"end":return n.stop()}}))};e.default=Object(D.b)((function(t){return I({},t.blogModel,{},t.globalModel)}),(function(t){return I({},t.blogModel,{},t.globalModel)}))(H)},hwOW:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var a=n("r6tY"),r=n.n(a),i=n("u20+"),o=n.n(i),c=n("ZxvJ"),l=n.n(c),u=n("Ah5Y"),s=n.n(u),p=n("w2yW"),d=n.n(p),m=n("AkfJ"),f=n.n(m),h=n("LKoG"),b=n("DLjF"),v=n("CD3g"),j=n("psj1"),O=n("gtKq"),g=n("9xLo"),w=n("tnEP"),y=n("yl5b"),E=n("CvBr"),k=n("2w0b"),T=k.createElement;function D(t,e){var n=f()(t);if(d.a){var a=d()(t);e&&(a=a.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,a)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){Object(E.a)(t,e,n[e])})):l.a?o()(t,l()(n)):D(Object(n)).forEach((function(e){r()(t,e,s()(n,e))}))}return t}var x=200,Y=function(t){function e(){var t,n;Object(v.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(O.a)(this,(t=Object(g.a)(e)).call.apply(t,[this].concat(r))),Object(E.a)(Object(w.a)(n),"state",{animate:!1}),Object(E.a)(Object(w.a)(n),"timer",0),n}return Object(y.a)(e,t),Object(j.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.animate&&(this.timer=setTimeout((function(){return t.setState({animate:!0})})))}},{key:"componentDidUpdate",value:function(t){var e=this;t.animate!==this.props.animate&&(this.timer=window.setTimeout((function(){return e.setState({animate:e.props.animate})})))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.speed,a=void 0===n?600:n,r=t.from,i=t.to,o=this.state.animate,c=(o?i:r)||{};return k.Children.map(e,(function(t){return k.cloneElement(t,{style:A({},{transform:"translateY(".concat(o?0:40,"px)"),transition:"all ease-in-out ".concat(a/1e3,"s"),opacity:o?1:0},{},c)})}))}}]),e}(k.Component),L=function(t){function e(){var t,n;Object(v.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(O.a)(this,(t=Object(g.a)(e)).call.apply(t,[this].concat(r))),Object(E.a)(Object(w.a)(n),"timer",null),Object(E.a)(Object(w.a)(n),"state",{current:0}),Object(E.a)(Object(w.a)(n),"handleAnimate",(function(t){var e=n.props,a=e.interval,r=void 0===a?x:a,i=e.children,o=e.exit,c=e.onAnimateStart;if(!i||!i.length)return!1;if(clearTimeout(n.timer),o)return n.setState({current:0});c&&c(),n.timer=setTimeout((function e(){var a=n.state.current,o=i?i.length:0;return!t&&a<=0?(n.setState({current:0}),n.props.onAnimateEnd&&n.props.onAnimateEnd(),!1):t&&a>=o?(n.setState({current:o}),n.props.onAnimateEnd&&n.props.onAnimateEnd(),!1):(a+=t?1:-1,n.setState({current:a}),void(n.timer=setTimeout(e,r)))}),r)})),n}return Object(y.a)(e,t),Object(j.a)(e,[{key:"componentDidMount",value:function(){this.handleAnimate(this.props.animate)}},{key:"componentDidUpdate",value:function(t){return this.props.children&&t.children?t.exit!==this.props.exit?this.handleAnimate(this.props.animate):t.animate!==this.props.animate?this.handleAnimate(this.props.animate):t.children.length!==this.props.children.length?this.handleAnimate(this.props.animate):void 0:null}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.speed,a=void 0===n?400:n,r=(t.animate,Object(b.a)(t,["children","speed","animate"])),i=this.state.current;return e?k.Children.map(e,(function(t,e){return T(Y,Object(h.a)({animate:e<i,speed:a},r),t)})):null}}]),e}(k.Component);k.Component},qPyY:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("Dkwd")}])}},[["qPyY",1,0,2]]]);