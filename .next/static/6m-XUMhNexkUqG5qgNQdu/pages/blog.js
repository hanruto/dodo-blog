(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"0TmZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("2w0b"),i=n.n(a),r=n("joYR"),o=n.n(r),c=(n("v4hW"),i.a.createElement);function l(){return c("footer",{className:"main-footer"},c("div",null,c("div",{className:"main-footer-links"},c("span",null,"github "),c("a",{target:"_new",href:"https://github.com/hanruto"},"soWhiteSoColl")),c("div",null,c("span",{className:"main-footer-item"},"\xa92018 dodo "),c("span",{className:"main-footer-item"},c(o.a,{href:"/blog?id=5c2c8bf7e71e1855ab4d18f0"},c("a",null,"\u5173\u4e8e\u5c0f\u5bd2"))))))}},HfOp:function(t,e,n){"use strict";n.r(e);var a=n("r6tY"),i=n.n(a),r=n("u20+"),o=n.n(r),c=n("ZxvJ"),l=n.n(c),s=n("Ah5Y"),u=n.n(s),m=n("w2yW"),p=n.n(m),d=n("AkfJ"),f=n.n(d),h=n("CvBr"),b=n("4x1K"),v=n.n(b),g=n("2w0b"),O=n.n(g),j=n("Hcux"),w=n("WN8c"),y=n.n(w),N=n("1s8z"),k=n.n(N),E=n("6n+W"),x=n("hwOW"),A=n("l6d1"),Y=n("0TmZ"),_=n("rEMe"),C=n("WYo3"),T=(n("vRfo"),O.a.createElement);function W(t,e){var n=f()(t);if(p.a){var a=p()(t);e&&(a=a.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,a)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){Object(h.a)(t,e,n[e])})):l.a?o()(t,l()(n)):W(Object(n)).forEach((function(e){i()(t,e,u()(n,e))}))}return t}function M(t){var e=Object(g.useState)(""),n=e[0],a=e[1],i=Object(g.useState)(""),r=i[0],o=i[1],c=t.getComments,l=t.commentBlog,s=t.blog,u=t.comments;Object(g.useEffect)((function(){s&&s._id&&(c({blogId:s._id}),Object(_.a)("enter-blog-detail","route-change",{id:s._id}))}),[]);return T("div",{className:"blog-detail-page page-common-container"},T(k.a,null,T("title",null,"".concat(s?s.title:"\u535a\u5ba2\u627e\u4e0d\u5230\u4e86","-\u5c0f\u5bd2\u7684\u535a\u5ba2"))),T(E.a,null),s?T(x.a,{animate:!0},T("h2",{className:"page-common-blog-title"},s.title),T("div",{className:"blog-created"},y()(s.created).format("YYYY / MM / DD")),T("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:s.content}})):T("div",null,"\u535a\u5ba2\u627e\u4e0d\u5230\u4e86"),T("div",{className:"page-common-section-title"},"\u5199\u8bc4\u8bba"),T("div",{className:"blog-comment-form"},T("input",{maxLength:6,type:"text",className:"blog-nickname-input",placeholder:"\u540d\u5b57\u6216\u8005\u6635\u79f0",onChange:function(t){o(t.target.value)}}),T("textarea",{maxLength:150,value:n,onChange:function(t){a(t.target.value)},className:"blog-comment-input",placeholder:"\u5199\u70b9\u4ec0\u4e48\u5427..."}),T("button",{className:"blog-comment-submit-button",onClick:function(t){var e;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:t.preventDefault(),e={content:n,type:1,nickname:r||"\u4e0d\u613f\u610f\u900f\u6f0f\u59d3\u540d\u7684\u70ed\u5fc3\u7f51\u53cb",blogId:s._id},a(""),l(e);case 4:case"end":return i.stop()}}))},disabled:!n||!r},"\u8bc4\u8bba")),T("div",{className:"page-common-section-title comment-list-title"},"\u5168\u90e8\u8bc4\u8bba"),T(A.a,{comments:u.list}),T(Y.a,null))}M.getInitialProps=function(t){var e,n,a;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.query.id,n=C.a.dispatch.blogModel.getBlog,i.next=4,v.a.awrap(n(e));case 4:return a=i.sent,i.abrupt("return",{blog:a});case 6:case"end":return i.stop()}}))};e.default=Object(j.b)((function(t){return D({},t.blogModel)}),(function(t){return D({},t.blogModel)}))(M)},abmG:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return n("HfOp")}])},hwOW:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var a=n("r6tY"),i=n.n(a),r=n("u20+"),o=n.n(r),c=n("ZxvJ"),l=n.n(c),s=n("Ah5Y"),u=n.n(s),m=n("w2yW"),p=n.n(m),d=n("AkfJ"),f=n.n(d),h=n("LKoG"),b=n("DLjF"),v=n("CD3g"),g=n("psj1"),O=n("gtKq"),j=n("9xLo"),w=n("tnEP"),y=n("yl5b"),N=n("CvBr"),k=n("2w0b"),E=k.createElement;function x(t,e){var n=f()(t);if(p.a){var a=p()(t);e&&(a=a.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,a)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){Object(N.a)(t,e,n[e])})):l.a?o()(t,l()(n)):x(Object(n)).forEach((function(e){i()(t,e,u()(n,e))}))}return t}var Y=200,_=function(t){function e(){var t,n;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(O.a)(this,(t=Object(j.a)(e)).call.apply(t,[this].concat(i))),Object(N.a)(Object(w.a)(n),"state",{animate:!1}),Object(N.a)(Object(w.a)(n),"timer",0),n}return Object(y.a)(e,t),Object(g.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.animate&&(this.timer=setTimeout((function(){return t.setState({animate:!0})})))}},{key:"componentDidUpdate",value:function(t){var e=this;t.animate!==this.props.animate&&(this.timer=window.setTimeout((function(){return e.setState({animate:e.props.animate})})))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.speed,a=void 0===n?600:n,i=t.from,r=t.to,o=this.state.animate,c=(o?r:i)||{};return k.Children.map(e,(function(t){return k.cloneElement(t,{style:A({},{transform:"translateY(".concat(o?0:40,"px)"),transition:"all ease-in-out ".concat(a/1e3,"s"),opacity:o?1:0},{},c)})}))}}]),e}(k.Component),C=function(t){function e(){var t,n;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=Object(O.a)(this,(t=Object(j.a)(e)).call.apply(t,[this].concat(i))),Object(N.a)(Object(w.a)(n),"timer",null),Object(N.a)(Object(w.a)(n),"state",{current:0}),Object(N.a)(Object(w.a)(n),"handleAnimate",(function(t){var e=n.props,a=e.interval,i=void 0===a?Y:a,r=e.children,o=e.exit,c=e.onAnimateStart;if(!r||!r.length)return!1;if(clearTimeout(n.timer),o)return n.setState({current:0});c&&c(),n.timer=setTimeout((function e(){var a=n.state.current,o=r?r.length:0;return!t&&a<=0?(n.setState({current:0}),n.props.onAnimateEnd&&n.props.onAnimateEnd(),!1):t&&a>=o?(n.setState({current:o}),n.props.onAnimateEnd&&n.props.onAnimateEnd(),!1):(a+=t?1:-1,n.setState({current:a}),void(n.timer=setTimeout(e,i)))}),i)})),n}return Object(y.a)(e,t),Object(g.a)(e,[{key:"componentDidMount",value:function(){this.handleAnimate(this.props.animate)}},{key:"componentDidUpdate",value:function(t){return this.props.children&&t.children?t.exit!==this.props.exit?this.handleAnimate(this.props.animate):t.animate!==this.props.animate?this.handleAnimate(this.props.animate):t.children.length!==this.props.children.length?this.handleAnimate(this.props.animate):void 0:null}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.speed,a=void 0===n?400:n,i=(t.animate,Object(b.a)(t,["children","speed","animate"])),r=this.state.current;return e?k.Children.map(e,(function(t,e){return E(_,Object(h.a)({animate:e<r,speed:a},i),t)})):null}}]),e}(k.Component);k.Component},l6d1:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("2w0b"),i=n.n(a),r=n("WN8c"),o=n.n(r),c=(n("lOme"),i.a.createElement);function l(t){var e=t.comments;return e&&e.length?c("ul",{className:"comment-list"},e.map((function(t){return c("li",{key:t._id,className:"comment-item"},c("div",{className:"comment-nickname"},t.nickname),c("div",{className:"comment-created"},o()(t.created).format("YYYY.MM.DD HH:mm")),c("div",{className:"comment-content"},t.content))}))):c("div",{className:"no-comment"},"\u6682\u65e0\u8bc4\u8bba")}}},[["abmG",1,0,2]]]);